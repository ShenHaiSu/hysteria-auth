import{s as u}from"./index-BMnoWLTH.js";import{a as d}from"./index-BVYfK-K8.js";import{u as m}from"./user-CTt0FKav.js";import{i as f,u as x,C as g,H as _,c as v,d as b,p as o,o as i,w as l,b as a,e as s,v as p,l as h}from"./index-CurZRE90.js";import"./user-Bfv-Uxkn.js";const k={key:0,class:"flex justify-center p-4"},y={key:1,class:"grid grid-cols-2 gap-4"},C={class:"p-3 bg-surface-50 rounded-lg flex flex-col items-center"},S={class:"text-2xl font-bold"},V={class:"p-3 bg-orange-50 rounded-lg flex flex-col items-center"},B={class:"text-2xl font-bold text-orange-700"},U={class:"mt-4 flex justify-end"},D=f({__name:"UserStats",setup(w){const t=m(),n=x(),c=g(()=>t.userVOs.filter(r=>r.is_active).length);return _(()=>{n.isAdmin&&t.userVOs.length===0&&t.fetchUsers()}),(r,e)=>o(n).isAdmin?(i(),v(o(u),{key:0,class:"h-full"},{title:l(()=>[...e[1]||(e[1]=[s("div",{class:"flex items-center gap-2"},[s("i",{class:"pi pi-users text-primary"}),s("span",null,"用户统计 (管理员)")],-1)])]),content:l(()=>[o(t).loading?(i(),a("div",k,[...e[2]||(e[2]=[s("i",{class:"pi pi-spin pi-spinner text-2xl"},null,-1)])])):(i(),a("div",y,[s("div",C,[e[3]||(e[3]=s("span",{class:"text-surface-500 text-sm mb-1"},"总用户数",-1)),s("span",S,p(o(t).userVOs.length),1)]),s("div",V,[e[4]||(e[4]=s("span",{class:"text-orange-600 text-sm mb-1"},"活跃用户",-1)),s("span",B,p(c.value),1)])])),s("div",U,[h(o(d),{label:"用户管理",icon:"pi pi-arrow-right",size:"small",text:"",onClick:e[0]||(e[0]=A=>r.$router.push("/users"))})])]),_:1})):b("",!0)}});export{D as default};
