import{s as x}from"./index-BMnoWLTH.js";import{s as g}from"./index-CbIDIgY1.js";import{a as v}from"./index-BVYfK-K8.js";import{u as _}from"./node-XxXxMLNn.js";import{i as b,C as d,H as y,c as p,o as n,w as c,b as r,e as s,p as l,v as u,F as h,A as k,l as N}from"./index-CurZRE90.js";import"./node-rrHiEOCh.js";const $={key:0,class:"flex justify-center p-4"},C={key:1,class:"grid grid-cols-2 gap-4"},S={class:"p-3 bg-surface-50 rounded-lg flex flex-col items-center"},w={class:"text-2xl font-bold"},B={class:"p-3 bg-green-50 rounded-lg flex flex-col items-center"},j={class:"text-2xl font-bold text-green-700"},E={class:"p-3 bg-blue-50 rounded-lg flex flex-col items-center col-span-2"},F={class:"flex flex-wrap gap-1 justify-center"},V={class:"mt-4 flex justify-end"},G=b({__name:"NodeStats",setup(z){const o=_(),f=d(()=>o.nodes.filter(t=>t.is_active===1).length),m=d(()=>{const t={};return o.nodes.forEach(e=>{t[e.server_group]=(t[e.server_group]||0)+1}),t});return y(()=>{o.nodes.length===0&&o.fetchNodes()}),(t,e)=>(n(),p(l(x),{class:"h-full"},{title:c(()=>[...e[1]||(e[1]=[s("div",{class:"flex items-center gap-2"},[s("i",{class:"pi pi-map text-primary"}),s("span",null,"节点概览")],-1)])]),content:c(()=>[l(o).loading?(n(),r("div",$,[...e[2]||(e[2]=[s("i",{class:"pi pi-spin pi-spinner text-2xl"},null,-1)])])):(n(),r("div",C,[s("div",S,[e[3]||(e[3]=s("span",{class:"text-surface-500 text-sm mb-1"},"总节点数",-1)),s("span",w,u(l(o).nodes.length),1)]),s("div",B,[e[4]||(e[4]=s("span",{class:"text-green-600 text-sm mb-1"},"活跃节点",-1)),s("span",j,u(f.value),1)]),s("div",E,[e[5]||(e[5]=s("span",{class:"text-blue-600 text-sm mb-1"},"节点分组",-1)),s("div",F,[(n(!0),r(h,null,k(m.value,(i,a)=>(n(),p(l(g),{key:a,value:`${a}: ${i}`,severity:"secondary"},null,8,["value"]))),128))])])])),s("div",V,[N(l(v),{label:"管理节点",icon:"pi pi-arrow-right",size:"small",text:"",onClick:e[0]||(e[0]=i=>t.$router.push("/nodes"))})])]),_:1}))}});export{G as default};
