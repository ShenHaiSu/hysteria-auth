import{b3 as v,b4 as N,k as s}from"./index-CurZRE90.js";import{g,c as p,u as x,d as m}from"./node-rrHiEOCh.js";function w(){return v.get("/proxy/config")}const b=N("node",()=>{const t=s([]),u=s([]),e=s(!1);async function l(a){e.value=!0;try{t.value=await g(a)}finally{e.value=!1}}async function f(){e.value=!0;try{const a=await w();u.value=a.items}finally{e.value=!1}}async function i(a){e.value=!0;try{const n=await p(a);return t.value.push(n),n}finally{e.value=!1}}async function c(a,n){e.value=!0;try{const o=await x(a,n),r=t.value.findIndex(y=>y.id===a);return r!==-1&&(t.value[r]=o),o}finally{e.value=!1}}async function d(a){e.value=!0;try{const n=await m(a);return n.success&&(t.value=t.value.filter(o=>o.id!==a)),n}finally{e.value=!1}}return{nodes:t,proxyConfigs:u,loading:e,fetchNodes:l,fetchProxyConfigs:f,addNode:i,refreshNode:c,removeNode:d}});export{b as u};
